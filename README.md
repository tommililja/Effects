Handle side effects and dependencies in F# using Free Monad
